if game.Players.LocalPlayer.PlayerGui:FindFirstChild("TPS") then
      game.Players.LocalPlayer.PlayerGui.TPS:Destroy()
end

local TPS = Instance.new("ScreenGui")
local Main = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local UIGradient = Instance.new("UIGradient")
local PlrChoose = Instance.new("TextButton")
local UICorner_2 = Instance.new("UICorner")
local Dropdown = Instance.new("Frame")
local Plr2 = Instance.new("TextButton")
local UICorner_3 = Instance.new("UICorner")
local Plr1 = Instance.new("TextBox")
local UICorner_4 = Instance.new("UICorner")

--Properties:

TPS.Name = "TPS"
TPS.Parent = game.Players.LocalPlayer.PlayerGui
TPS.DisplayOrder = 999999999
TPS.ResetOnSpawn = false

Main.Name = "Main"
Main.Parent = TPS
Main.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Main.Position = UDim2.new(0.408384085, 0, 0.23680982, 0)
Main.Size = UDim2.new(0, 270, 0, 428)

UICorner.Parent = Main

UIGradient.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(255, 255, 255)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(191, 191, 191))}
UIGradient.Rotation = 50
UIGradient.Parent = Main

PlrChoose.Name = "PlrChoose"
PlrChoose.Parent = Main
PlrChoose.BackgroundColor3 = Color3.fromRGB(52, 52, 52)
PlrChoose.Position = UDim2.new(0.129629627, 0, 0.0630841106, 0)
PlrChoose.Size = UDim2.new(0, 200, 0, 50)
PlrChoose.Font = Enum.Font.Nunito
PlrChoose.Text = "Playerlist"
PlrChoose.TextColor3 = Color3.fromRGB(255, 255, 255)
PlrChoose.TextScaled = true
PlrChoose.TextSize = 14.000
PlrChoose.TextWrapped = true

UICorner_2.Parent = PlrChoose

Dropdown.Name = "Dropdown"
Dropdown.Parent = TPS
Dropdown.BackgroundColor3 = Color3.fromRGB(52, 52, 52)
Dropdown.BorderSizePixel = 0
Dropdown.Position = UDim2.new(0.419202179, 0, 0.361963183, 0)
Dropdown.Size = UDim2.new(0, 237, 0, 297)
Dropdown.Visible = false

Plr2.Name = "Plr2"
Plr2.Parent = Dropdown
Plr2.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
Plr2.Position = UDim2.new(0.074054867, 0, 0.232473671, 0)
Plr2.Size = UDim2.new(0, 200, 0, 30)
Plr2.Font = Enum.Font.Nunito
Plr2.Text = "TELEPORT"
Plr2.TextColor3 = Color3.fromRGB(255, 255, 255)
Plr2.TextScaled = true
Plr2.TextSize = 14.000
Plr2.TextWrapped = true

UICorner_3.Parent = Plr2

Plr1.Name = "Plr1"
Plr1.Parent = Dropdown
Plr1.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
Plr1.Position = UDim2.new(0.074054867, 0, 0.0844473541, 0)
Plr1.Size = UDim2.new(0, 200, 0, 30)
Plr1.Font = Enum.Font.Nunito
Plr1.PlaceholderText = "Player username"
Plr1.Text = ""
Plr1.TextColor3 = Color3.fromRGB(255, 255, 255)
Plr1.TextScaled = true
Plr1.TextSize = 14.000
Plr1.TextWrapped = true

UICorner_4.Parent = Plr1

-- Scripts:

local function WSQRG_fake_script() -- TPS.RandomName 
	local script = Instance.new('LocalScript', TPS)

	math.randomseed(tick())
	
	local charset = {}
	for i = 48,  57 do table.insert(charset, string.char(i)) end
	for i = 65,  90 do table.insert(charset, string.char(i)) end
	for i = 97, 122 do table.insert(charset, string.char(i)) end
	local function RandomCharacters(length)
		if length > 0 then
			return RandomCharacters(length - 1) .. charset[math.random(1, #charset)]
		else
			return ""
		end
	end
	
	local PooPooPeePee = script.Parent
	PooPooPeePee.Name = RandomCharacters(math.random(5, 20))
end
coroutine.wrap(WSQRG_fake_script)()
local function UMSAI_fake_script() -- PlrChoose.LocalScript 
	local script = Instance.new('LocalScript', PlrChoose)

	local dd = script.Parent.Parent.Parent.Dropdown
	local button = script.Parent
	local plr1 = dd.Plr1; local plr2 = dd.Plr2;
	local debounce = false
	local players = game:GetService("Players")
	
	button.MouseButton1Click:Connect(function()
		if debounce == true then return end
		if dd.Visible == false and debounce == false then
			dd.Visible = true
			debounce = true
			
			local Properties = {Size = UDim2.new(0,200,0,30)}
			local Info = TweenInfo.new(0.5, Enum.EasingStyle.Cubic, Enum.EasingDirection.Out)
			local TS = game:GetService("TweenService"):Create(plr1, Info, Properties)
			TS:Play()
			local Properties = {Size = UDim2.new(0,200,0,30)}
			local Info = TweenInfo.new(0.5, Enum.EasingStyle.Cubic, Enum.EasingDirection.Out)
			local TS = game:GetService("TweenService"):Create(plr2, Info, Properties)
			TS:Play()
			
			local Properties = {Size = UDim2.new(0, 237,0, 297)}
			local Info = TweenInfo.new(0.5, Enum.EasingStyle.Cubic, Enum.EasingDirection.Out)
			local TS = game:GetService("TweenService"):Create(dd, Info, Properties)
			TS:Play()
			spawn(function()
				wait(0.5)
				debounce = false
			end)
		elseif dd.Visible == true and debounce == false then
			debounce = true
			
			local Properties = {Size = UDim2.new(0,200,0,0)}
			local Info = TweenInfo.new(0.5, Enum.EasingStyle.Cubic, Enum.EasingDirection.Out)
			local TS = game:GetService("TweenService"):Create(plr1, Info, Properties)
			TS:Play()
			local Properties = {Size = UDim2.new(0,200,0,0)}
			local Info = TweenInfo.new(0.5, Enum.EasingStyle.Cubic, Enum.EasingDirection.Out)
			local TS = game:GetService("TweenService"):Create(plr2, Info, Properties)
			TS:Play()
			
			local Properties = {Size = UDim2.new(0, 237,0, 0)}
			local Info = TweenInfo.new(0.5, Enum.EasingStyle.Cubic, Enum.EasingDirection.Out)
			local TS = game:GetService("TweenService"):Create(dd, Info, Properties)
			TS:Play()
			wait(0.5)
			debounce = false
			dd.Visible = false
		end
	end)
end
coroutine.wrap(UMSAI_fake_script)()
local function XZNWHMQ_fake_script() -- Main.Drag 
	local script = Instance.new('LocalScript', Main)

	local UserInputService = game:GetService("UserInputService")
	
	local gui = script.Parent
	
	local dragging
	local dragInput
	local dragStart
	local startPos
	
	local function update(input)
		local delta = input.Position - dragStart
		local Properties = {Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)} -- change the number as you wish
		local Info = TweenInfo.new(0.25, Enum.EasingStyle.Cubic, Enum.EasingDirection.Out) -- edit as you want
		local TS = game:GetService("TweenService"):Create(gui, Info, Properties)
		TS:Play()
	end
	
	gui.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = gui.Position
			
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)
	
	gui.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
	end)
	
	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			update(input)
		end
	end)
end
coroutine.wrap(XZNWHMQ_fake_script)()
local function HZWNPXS_fake_script() -- TPS.ToggleGui 
	local script = Instance.new('LocalScript', TPS)

	local UIS = game:GetService("UserInputService")
	local gui = script.Parent.Main
	local dd = gui.Parent.Dropdown
	
	UIS.InputBegan:Connect(function(Key, IsTyping)
		if IsTyping then return end
		
		if Key.KeyCode == Enum.KeyCode.RightControl then
			if gui.Visible == false then
				gui.Visible = true
			elseif gui.Visible == true then
				gui.Visible = false
				dd.Visible = false
			end
		end
		
	end)
end
coroutine.wrap(HZWNPXS_fake_script)()
local function EFYGZS_fake_script() -- Plr2.LocalScript 
	local script = Instance.new('LocalScript', Plr2)

	local Target = script.Parent.Parent.Plr1
	
	local plr = game.Players.LocalPlayer
	local button = script.Parent
	
	button.MouseButton1Click:Connect(function()
		for i,v in pairs(game:GetService("Workspace"):GetChildren()) do
			if v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Name == Target.Text then
				local Properties = {CFrame = v.HumanoidRootPart.CFrame}
				local Info = TweenInfo.new(0.5, Enum.EasingStyle.Linear, Enum.EasingDirection.Out)
				local TS = game:GetService("TweenService"):Create(plr.Character.HumanoidRootPart, Info, Properties)
				TS:Play()
				print("Teleported!")
			elseif v.Name == "" and not v:FindFirstChild("Humanoid") and not v:FindFirstChild("HumanoidRootPart") then
				return
			end
		end
	end)
end
coroutine.wrap(EFYGZS_fake_script)()
